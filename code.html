<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">

    <link rel="stylesheet" href="/css/site.css">
    <link rel="stylesheet" href="/css/prism.css">
    <title>App Name: Coding Callenges</title>
</head>

</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark" id="mainNav">
            <div class="container">
                <a class="navbar-brand" href="#index.html">
                    <img src="/img/Open (6).png" height="50" alt="">
                    FizzBuzz
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon-ms">
                        <i class="bi bi-list"> </i>
                    </span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link " href="/index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="app.html">FizzBuzz</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/code.html">The Code</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://github.com/tRomanova/FizzBuzz">The Repo</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://tatyana-romanova-fullstack.netlify.app/#Home">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://trblog-production.up.railway.app/Content/fizzbuzz">Blog</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main class="content container">

        <div class="content container">
            <div class="row row-cols-1">
                <h1 class="border-bottom border-2 border-dark">The Code</h1>
                <div class="col col-md-8 col-lg">
                    <pre class="line-numbers">
                        <code class="language-js">
                            // This function is responsible for receiving and responding to user input
                            function getValue() {
                                //get user input from the page
                                let fizzValue = document.getElementById('fizzValue').value;
                                let buzzValue = document.getElementById('buzzValue').value;
                                let stopValue = document.getElementById('stopValue').value;

                                //parse our inputs as number
                                fizzValue = parseInt(fizzValue);
                                buzzValue = parseInt(buzzValue);
                                stopValue = parseInt(stopValue);

                                //verify our inputs are numbers
                                if (Number.isInteger(fizzValue) && Number.isInteger(buzzValue) && Number.isInteger(stopValue)) {

                                    if(stopValue > 5000) {
                                        Swal.fire(
                                            {
                                                icon: 'error',
                                                title: 'Oops',
                                                text: 'Please enter valid number!'
                                            }
                                        )
                                    }else if(fizzValue === 0 || buzzValue === 0){
                                        Swal.fire(
                                            {
                                                icon: 'error',
                                                title: 'Oops',
                                                text: 'Fizz or Buzz cannot be 0!'
                                            }
                                        )
                                    }else{

                                        //if they are, generate our numbers
                                        let numberArray = generateFizzBuzz(fizzValue, buzzValue, stopValue);
                                        //display numbers on the page
                                        displayFizzBuzz(numberArray);
                                    }

                                }  else {
                                    //if inputs are not numbers, tell user to insert integer
                                    Swal.fire(
                                        {
                                            icon: 'error',
                                            title: 'Oops',
                                            text: 'Only integer are allow for Hondo!'
                                        }
                                    )
                                }
                            }

                            // This function is responsible for generating the values you will display
                            function generateFizzBuzz(fizzValue, buzzValue, stopValue) {

                                let results = []

                                for (let i = 0; i < stopValue; i++) {
                                    let arrElement = i + 1

                                    if (arrElement % fizzValue === 0 && arrElement % buzzValue === 0) {
                                        results[i] = 'FizzBuzz'
                                    } else if (arrElement % fizzValue === 0) {
                                        results[i] = 'Fizz'
                                    } else if (arrElement % buzzValue === 0) {
                                        results[i] = 'Buzz'
                                    } else {
                                        results[i] = arrElement;
                                    }
                                }
                                return results;
                            }
                            //This function is responsible for displaying the generated values on the page
                            function displayFizzBuzz(arr) {
                                let tableBody = document.getElementById('results');
                                let tableHtml = '';

                                for (let i = 0; i < arr.length; i++) {
                                    let value = arr[i]
                                    let className = 'num';

                                    if (value === "Fizz") {
                                        className = 'fizz';
                                    } else if (value === "Buzz") {
                                        className = 'buzz';
                                    } else if (value === "FizzBuzz") {
                                        className = "fizzBuzz"
                                    }

                                    if (i % 5 === 0) {
                                        tableHtml += '<tr>'
                                    }

                                    let tableRow = `<td class="${className}">${value}</td>`;
                                    tableHtml = tableHtml + tableRow;

                                    if ((i + 1) % 5 === 0) {
                                        tableHtml += '</tr>';
                                    }
                                }
                                tableBody.innerHTML = tableHtml;
                            }
                        </code>
                    </pre>
                </div>
                <div class="col col-md-4 col-lg-4">
                    <h4>The code is structured in 3 functions</h4>
                    <ul>
                        <li class="py-3">Function<code>getValue</code>: grabs the user inputs,
                            then converts them in to integers.
                            1) It checks if the values are numbers by using built-in isInteger function.
                            1a) Within the if statement, another if statement will check if the
                            "Stop value is more then 5000". If it is, an error message will pop up.
                            1b) If any of the "Fizz" or "Buzz" values are equal to 0,
                            another error message will be thrown.
                            1c) Otherwise, function <code>generateFizzBuzz</code> is called by passing
                            the user enetred numbers as parameters.
                            When <code>generateFizzBuzz</code> returns array of numbers, they are passed to
                            function<code>displayFizzBuzz</code>
                            2) If user inputs are not integers, error message pops up.
                        </li>
                        <li class="py-3">
                            The <code>generateFizzBuzz</code> function takes 3 parameters - fizzValue, fuzzValue and
                            stopValue.
                            It then declares an empty array 'results'.
                            In a loop, from 1 to stopValue, it populates the results array with these numbers.
                            It then check for each element in below order -
                            1) If the number is completely divisible by fizzValue, and also completely divisible by
                            fuzzValue,
                            we replace the number by string 'FizzBuzz'
                            2) Else if the number is only completely divisble by fizzValue,
                            we replace the number by string 'Fizz'
                            3) Else if the number is only completely divisble by fuzzValue,
                            we replace the number by string 'Fuzz'
                            4) Otherwise we assign the number to the corresponding 'results' array element.
                            Finally, the function returns the 'results' array.
                        </li>
                        <li>
                            <code>displayFizzBuzz</code>: This function accepts the results array from generateFizzBuzz
                            function,
                            and generates a dynamic table of 5 columns (it creates a new row - tr element after each 5
                            elements).
                            The function also checks for the value of each element of the array, and assigns a
                            specific color based on whether it's 'fizz', 'buzz', 'fizzbuzz' or a regular integer.
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </main>
    <footer class="container-fluid py-3">
        <div class="container">
            <div class="row row-col-1 row-cols-lg-3 align-item-center">
                <div class="col-12 text-lgstart text-center order-last order-lg-first">
                    &copy; Tatyana Romanova
                </div>
                <div class="col-12 text-center">
                    <img src="/img/Open (6).png" height=50>
                </div>
                <div class="col-12 text-center text-lg-end">
                    <!-- <a href="#"><i class="bi bi-instagram socialicons"></i></a> -->
                    <a href="https://www.linkedin.com/in/tanya-romanova-a94701209/"><i class="bi bi-linkedin socialicons"></i></a>
                    <!-- <a href="#"><i class="bi bi-facebook socialicons"></i></a> -->
                    <a href="https://github.com/tRomanova/FizzBuzz"><i class="bi bi-github socialicons"></i></a>
                </div>
            </div>
        </div>
    </footer>
    <!-- Bootstrap script -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>

    <!-- Prism Js -->
    <script src="/js/prism.js"></script>
    <!-- Prism configuration -->
    <script>
        Prism.plugins.NormalizeWhitespace.setDefaults({
            'remove-trailing': true,
            'remove-indent': true,
            'left-trim': true,
            'right-trim': true
        })
    </script>
</body>

</html>